var editor=ace.edit("editor");ace.require("ace/ext/language_tools");ace.require("ace/ext/modelist");editor.setTheme("ace/theme/chrome");editor.session.setMode("ace/mode/yml");editor.setOptions({fontFamily:"consolas",fontSize:"12px",});editor.focus();$(window).load(function(){$("#loader").delay(1000).fadeOut("slow");if(Cookies.get("last")!=null){editor.session.setValue(Cookies.get("last"))}else{editor.session.setValue("")}});var i=0;var dragging=false;var dragging2=false;$("#dragbar").mousedown(function(c){c.preventDefault();dragging=true;var b=$("#right");var a=$("<div>",{id:"ghostbar",css:{height:b.outerHeight(),top:b.offset().top,left:b.offset().left}}).appendTo("body");$(document).mousemove(function(d){a.css("left",d.pageX+1)})});$(document).mouseup(function(a){if(dragging){$("#left").css("width",a.pageX+1);$("#right").css("left",a.pageX+1);$("#dragbar").css("left",a.pageX+1);$("#ghostbar").remove();$(document).unbind("mousemove");dragging=false}});$("#dragbar2").mousedown(function(c){c.preventDefault();dragging2=true;var b=$("#res");var a=$("<div>",{id:"ghostbar2",css:{top:b.offset().top,width:b.outerWidth()}}).appendTo("body");$(document).mousemove(function(d){a.css("top",d.pageY+1)})});$(document).mouseup(function(a){if(dragging2){$("#editor").css("height",a.pageY+1);$("#res").css("top",a.pageY+1).css("height",$(document).outerHeight()-$("#editor").outerHeight()-11);$("#dragbar2").css("top",a.pageY+1);$("#ghostbar2").remove();$(document).unbind("mousemove");dragging2=false}});editor.getSession().on("change",function(){var e=editor.getSession().getValue();Cookies.set("last",e);if(e==""){$("#right").html('<h2 style="color:#a5a5a5">Getting started</h2><h3 style="color:#a5a5a5"> - Go to folder /logs in your server folder<br/> - Open the latest.log (or any from the archives)<br/> - Copy and paste the file in to the editor<br/> - Wait for it to fully load and you are done :)<br/><br/><img src="https://img.shields.io/github/license/Acayrin/acayrin.github.io.svg"> <img src="https://img.shields.io/github/last-commit/Acayrin/acayrin.github.io.svg?label=latest"> <img src="https://img.shields.io/github/issues-pr-raw/Acayrin/acayrin.github.io.svg?label=pull%20requests"> <img src="https://img.shields.io/github/issues-raw/Acayrin/acayrin.github.io.svg?label=issues"></h3>');$("#list").html("<table id='list'><tr><th>Type</th><th>Line</th><th>Error</th><th>Solution</th></tr></table>")}else{$("#res").css("height",$(document).outerHeight()-$("#editor").outerHeight()-11);$("#right").html("");$("#list").html("<table id='list'><tr><th>Type</th><th>Line</th><th>Error</th><th>Solution</th></tr></table>");var a=e.split("\n");var f="";for(var d=0;d<a.length;d++){var b=a[d];var c=b.match(/[[a-zA-Z0-9/\-!@#$%^&*() ]+ERROR]:/g)!=null?"#e20000":(b.match(/[[a-zA-Z0-9/\-!@#$%^&*() ]+WARN]:/g)!=null?"#a59415":"#757575");b=b.replace(/[[0-9]+:[0-9]+:[0-9]+]/g,"<a id='line"+d+"' href='#line"+d+"' style='color:"+c+";font-family:Consolas'>"+d+"</a> <span style='color:#757575'><span style='font-size:18px;font-weight:bold;color:"+c+"'>│</span></span> "+b.match(/[[0-9]+:[0-9]+:[0-9]+]/g));b=b.replace(/[[a-zA-Z0-9/\-!@#$%^&*() ]+INFO]:/g,"<span style='color:#757575'> →</span>");if(a[d-1]!=null&&a[d-1].match(/[[a-zA-Z0-9/\-!@#$%^&*() ]+WARN]:/g)==null&&b.match(/[[a-zA-Z0-9/\-!@#$%^&*() ]+WARN]:/g)!=null){f=a[d];b=b.replace(/[[0-9]+:[0-9]+:[0-9]+]/g,"");b=b.replace(/[[a-zA-Z0-9/\-!@#$%^&*() ]+WARN]:/g,"<span style='color:#a59415'><strong>");$("#list").append("<tr><td style='color:#a59415'>WARN</td><td><a href='#line"+d+"'><strong>"+d+"</strong></a></td><td>"+(a[d].replace(/[[a-zA-Z0-9/\-!@#$%^&*() ]+WARN]:/g,"").replace(/[[0-9]+:[0-9]+:[0-9]+]/g,""))+"</td><td>NULL</td>")}else{if(f!=null&&f.match(/[[a-zA-Z0-9/\-!@#$%^&*() ]+WARN]:/g)!=null||b.match(/[[a-zA-Z0-9/\-!@#$%^&*() ]+WARN]:/g)!=null){b=b.replace(/[[a-zA-Z0-9/\-!@#$%^&*() ]+WARN]:/g,"&nbsp;&nbsp;<span style='color:#a59415'><strong>");b=b.replace(/[[0-9]+:[0-9]+:[0-9]+]/g,"")}else{b=b.replace(/[[a-zA-Z0-9/\-!@#$%^&*() ]+WARN]:/g,"&nbsp;&nbsp;<span style='color:#a59415'><strong>")}}if(a[d-1]!=null&&a[d-1].match(/[[a-zA-Z0-9/\-!@#$%^&*() ]+ERROR]:/g)==null&&b.match(/[[a-zA-Z0-9/\-!@#$%^&*() ]+ERROR]:/g)!=null){f=a[d];b=b.replace(/[[0-9]+:[0-9]+:[0-9]+]/g,"");b=b.replace(/[[a-zA-Z0-9/\-!@#$%^&*() ]+ERROR]:/g,"<span style='color:#e20000'><strong>");$("#list").append("<tr><td style='color:#e20000'>ERROR</td><td><a href='#line"+d+"'><strong>"+d+"</strong></a></td><td>"+(a[d].replace(/[[a-zA-Z0-9/\-!@#$%^&*() ]+ERROR]:/g,"").replace(/[[0-9]+:[0-9]+:[0-9]+]/g,""))+"</td><td>NULL</td>")}else{if(f!=null&&f.match(/[[a-zA-Z0-9/\-!@#$%^&*() ]+ERROR]:/g)!=null||b.match(/[[a-zA-Z0-9/\-!@#$%^&*() ]+ERROR]:/g)!=null){b=b.replace(/[[a-zA-Z0-9/\-!@#$%^&*() ]+ERROR]:/g,"<span style='color:#e20000'><strong>");b=b.replace(/[[0-9]+:[0-9]+:[0-9]+]/g,"")}else{b=b.replace(/[[a-zA-Z0-9/\-!@#$%^&*() ]+ERROR]:/g,"<span style='color:#e20000'><strong>")}}if(a[d-1]!=null&&a[d-1].match(/[[a-zA-Z0-9/\-!@#$%^&*() ]+FATAL]:/g)==null&&b.match(/[[a-zA-Z0-9/\-!@#$%^&*() ]+FATAL]:/g)!=null){f=a[d];b=b.replace(/[[0-9]+:[0-9]+:[0-9]+]/g,"");b=b.replace(/[[a-zA-Z0-9/\-!@#$%^&*() ]+FATAL]:/g,"<span style='color:#ff0000'><strong>");$("#list").append("<tr><td style='color:#ff0000'>FATAL</td><td><a href='#line"+d+"'><strong>"+d+"</strong></a></td><td>"+(a[d].replace(/[[a-zA-Z0-9/\-!@#$%^&*() ]+FATAL]:/g,"").replace(/[[0-9]+:[0-9]+:[0-9]+]/g,""))+"</td><td>NULL</td>")}else{if(f!=null&&f.match(/[[a-zA-Z0-9/\-!@#$%^&*() ]+FATAL]:/g)!=null||b.match(/[[a-zA-Z0-9/\-!@#$%^&*() ]+FATAL]:/g)!=null){b=b.replace(/[[a-zA-Z0-9/\-!@#$%^&*() ]+FATAL]:/g,"<span style='color:#ff0000'><strong>");b=b.replace(/[[0-9]+:[0-9]+:[0-9]+]/g,"")}else{b=b.replace(/[[a-zA-Z0-9/\-!@#$%^&*() ]+FATAL]:/g,"<span style='color:#ff0000'><strong>")}}for(var g=0;g<20;g++){b=b.replace("[21m","</strong><strong>");b=b.replace("[4m","</i><span style='text-decoration:underline'>");b=b.replace("[3m","</i><i>");b=b.replace("[5m","");b=b.replace("[9m","</strong></span></i><span style='text-decoration:line-through'>");b=b.replace("[0;30;1m","</strong></span><span style='color:#000'>");b=b.replace("[0;31;1m","</strong></span><span style='color:#e20000'>");b=b.replace("[0;32;1m","</strong></span><span style='color:#0fbf00'>");b=b.replace("[0;33;1m","</strong></span><span style='color:#a59415'>");b=b.replace("[0;34;1m","</strong></span><span style='color:#004ce5'>");b=b.replace("[0;35;1m","</strong></span><span style='color:#bc00bc'>");b=b.replace("[0;36;1m","</strong></span><span style='color:#01819b'>");b=b.replace("[0;37;1m","</strong></span><span style='color:#ededed'>");b=b.replace("[0;30;22m","</strong></span><span style='color:#000'>");b=b.replace("[0;31;22m","</strong></span><span style='color:#e20000'>");b=b.replace("[0;32;22m","</strong></span><span style='color:#0fbf00'>");b=b.replace("[0;33;22m","</strong></span><span style='color:#a59415'>");b=b.replace("[0;34;22m","</strong></span><span style='color:#004ce5'>");b=b.replace("[0;35;22m","</strong></span><span style='color:#bc00bc'>");b=b.replace("[0;36;22m","</strong></span><span style='color:#01819b'>");b=b.replace("[0;37;22m","</strong></span><span style='color:#ededed'>");b=b.replace("[m","</i></strong></span>")}$("#right").append(b+"<br/>")}}});
